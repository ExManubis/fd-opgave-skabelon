---
import employees from '@data/employees.json';
import DynamicImage from '@components/helpers/DynamicImage.astro';
import DynamicIcon from '@components/helpers/DynamicIcon.astro';

const slug: string = Astro.props.slug;
const employeeData = employees.find((e) => e.slug === slug);
---

<section class="grid grid-cols-2 gap-20 max-w-4xl mx-auto py-20">
    <div class="col-start-1 col-end-1 rounded-2xl w-fit h-fit pattern-figure">
        <div class="pattern-figure rounded-2xl w-fit h-fit overflow-hidden">
            <DynamicImage
                imagePath={employeeData?.img}
                altText={employeeData?.name}
            />
        </div>
    </div>
    <div class="col-start-2 col-end-2">
        <div class="flex flex-row justify-between items-center">
            <div class="flex flex-col">
                <h1 class="text-4xl font-cabin font-bold">
                    {employeeData?.name}
                </h1>
                <p class="text-neutral-800 font-lato text-lg">
                    {employeeData?.title}
                </p>
            </div>
            <div class="bg-neutral-300 w-0.25 h-5 place-self-center"></div>
            <div class="flex flex-row gap-4">
                {
                    employeeData?.social_links.map((link) => (
                        <a
                            href={link.url}
                            class="text-neutral-800 font-lato text-sm"
                        >
                            <DynamicIcon name={link.icon} class="w-6 h-6" />
                        </a>
                    ))
                }
            </div>
        </div>
        <p class="text-neutral-800 font-lato text-md mt-6 mb-6">
            {employeeData?.description_long}
        </p>
        <div class="bg-neutral-300 w-full h-0.25 my-6"></div>
        <h2 class="text-neutral-800 font-cabin text-4 xl font-bold mb-2">
            Past Experience
        </h2>
        <p class="text-neutral-800 font-lato text-md">
            {employeeData?.past_experience}
        </p>
    </div>
</section>
